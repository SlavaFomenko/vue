<template>
  <section class="form-section">
    <h2>‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
    <form @submit.prevent="handleSubmit">
      <div class="form-grid">
        <div class="form-group">
          <label for="taskTitle">–ù–∞–∑–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è *</label>
          <input
              type="text"
              id="taskTitle"
              v-model.trim="newTask.title"
              class="form-input"
              placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∑–∞–≤–¥–∞–Ω–Ω—è..."
              required
          >
        </div>
        <div class="form-group">
          <label for="taskPriority">–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç</label>
          <select
              id="taskPriority"
              v-model="newTask.priority"
              class="priority-select"
              :class="`priority-${newTask.priority}`"
          >
            <option value="low">üü¢ –ù–∏–∑—å–∫–∏–π</option>
            <option value="medium">üü° –°–µ—Ä–µ–¥–Ω—ñ–π</option>
            <option value="high">üî¥ –í–∏—Å–æ–∫–∏–π</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="taskDescription">–û–ø–∏—Å</label>
        <!-- v-model –¥–ª—è textarea -->
        <textarea
            id="taskDescription"
            v-model.trim="newTask.description"
            class="form-input form-textarea"
            placeholder="–û–ø–∏—à—ñ—Ç—å –∑–∞–≤–¥–∞–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ..."
        ></textarea>
      </div>
      <button type="submit" class="btn btn-primary">
        ‚úÖ –î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
      </button>
    </form>
  </section>
</template>

<script setup>
const props = defineProps({
  newTask: {
    type: Object,
    required: true
  }
});

const emit = defineEmits(['add-task']);

const handleSubmit = () => {
  emit('add-task');
};
</script>