<template>
  <section class="tasks-section">
    <div v-if="tasks.length === 0" class="no-tasks">
      <div class="no-tasks-icon">üìù</div>
      <h3>–ó–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h3>
      <p v-if="isEmptyList">–î–æ–¥–∞–π—Ç–µ —Å–≤–æ—î –ø–µ—Ä—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è!</p>
      <p v-else>–°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏ –ø–æ—à—É–∫—É</p>
    </div>

    <transition-group name="fade" tag="div">
      <TodoItem
          v-for="task in tasks"
          :key="task.id"
          :task="task"
          @toggle-status="$emit('toggle-status', $event)"
          @delete-task="$emit('delete-task', $event)"
          @start-edit="$emit('start-edit', $event)"
          @save-edit="$emit('save-edit', $event)"
          @cancel-edit="$emit('cancel-edit', $event)"
      />
    </transition-group>
  </section>
</template>

<script setup>
import TodoItem from './TodoItem.vue';

defineProps({
  tasks: {
    type: Array,
    required: true
  },
  isEmptyList: {
    type: Boolean,
    default: false
  }
});

defineEmits(['toggle-status', 'delete-task', 'start-edit', 'save-edit', 'cancel-edit']);
</script>